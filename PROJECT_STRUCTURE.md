# æ‘„åƒå¤´æ ‡å®šå·¥å…· - é¡¹ç›®ç»“æ„æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

```
fixCam/
â”œâ”€â”€ app.py                      # ğŸš€ Flaskä¸»ç¨‹åºå…¥å£ï¼Œæä¾›Web API
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–åº“
â”‚
â”œâ”€â”€ backend/                    # ğŸ”§ åç«¯æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ camera.py              # æ‘„åƒå¤´ç®¡ç†
â”‚   â”œâ”€â”€ board.py               # æ ‡å®šæ¿é€»è¾‘
â”‚   â””â”€â”€ calibration.py         # æ ‡å®šç®—æ³•
â”‚
â”œâ”€â”€ frontend/                   # ğŸ¨ å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html             # ä¸»ç•Œé¢ (é»‘é‡‘ä¸»é¢˜)
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ css/style.css      # é»‘é‡‘ä¸»é¢˜æ ·å¼
â”‚       â””â”€â”€ js/main.js         # å®¢æˆ·ç«¯é€»è¾‘
â”‚
â”œâ”€â”€ Charuco_A4.pdf             # æ ‡å®šæ¿æ‰“å°æ–‡ä»¶
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ PROJECT_STRUCTURE.md       # é¡¹ç›®ç»“æ„æ–‡æ¡£
```

## ğŸš€ å¦‚ä½•è¿è¡Œ

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡å™¨ (ä»æ ¹ç›®å½•)
```bash
python app.py
```

### 3. æ‰“å¼€æµè§ˆå™¨
```
http://127.0.0.1:5000
```

## ğŸ“¦ æ¶æ„è®¾è®¡

### åç«¯ (`backend/`)
- **camera.py**: æ‘„åƒå¤´å‘ç°ã€å‚æ•°æ§åˆ¶ã€å¸§æ•è·
- **board.py**: ChArUco & æ£‹ç›˜æ ¼æ£€æµ‹å’Œç”Ÿæˆ
- **calibration.py**: é’ˆå­” & é±¼çœ¼æ ‡å®šï¼ŒYAML/C++å¯¼å‡º

### å‰ç«¯ (`frontend/`)
- **index.html**: ä¸»UIå¸ƒå±€ (é»‘é‡‘ä¸»é¢˜)
- **static/css/style.css**: é»‘é‡‘ä¸»é¢˜æ ·å¼è®¾è®¡
- **static/js/main.js**: å®¢æˆ·ç«¯é€»è¾‘å’ŒAPIè°ƒç”¨

### å…¥å£ç‚¹ (`app.py`)
- Flaskåº”ç”¨ï¼Œæä¾›APIè·¯ç”±
- æœåŠ¡å‰ç«¯é™æ€æ–‡ä»¶
- ä»`backend/`å¯¼å…¥åç«¯æ¨¡å—

## ğŸ”Œ API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | `/` | ä¸»é¡µé¢ |
| GET | `/video_feed` | MJPEGè§†é¢‘æµ |
| GET | `/api/cameras` | è·å–å¯ç”¨æ‘„åƒå¤´åˆ—è¡¨ |
| POST | `/api/start_camera` | å¯åŠ¨é€‰å®šæ‘„åƒå¤´ |
| POST | `/api/update_params` | æ›´æ–°æ‘„åƒå¤´å‚æ•° |
| POST | `/api/set_board_type` | è®¾ç½®æ ‡å®šæ¿ç±»å‹ |
| GET | `/api/board_image` | è·å–æ ‡å®šæ¿é¢„è§ˆå›¾åƒ |
| POST | `/api/capture_image` | æ•è·æ ‡å®šå›¾åƒ |
| POST | `/api/calibrate` | æ‰§è¡Œæ ‡å®š |
| POST | `/api/save_calibration` | ä¿å­˜åˆ°YAML |
| GET | `/api/generate_cpp` | ç”ŸæˆC++ä»£ç  |

## âœ… é¡¹ç›®ä¼˜åŠ¿

1. **å‰åç«¯åˆ†ç¦»**: å‰åç«¯èŒè´£æ¸…æ™°åˆ†ç¦»
2. **æ˜“äºå¯¼èˆª**: å¿«é€Ÿæ‰¾åˆ°ç›¸å…³æ–‡ä»¶
3. **ç®€å•éƒ¨ç½²**: ä»æ ¹ç›®å½•è¿è¡Œ`python app.py`
4. **æ¨¡å—åŒ–**: å¯ç‹¬ç«‹ä¿®æ”¹å‰ç«¯æˆ–åç«¯
5. **ç°ä»£åŒ–UI**: é‡‡ç”¨é»‘é‡‘ä¸»é¢˜è®¾è®¡ï¼Œç•Œé¢ç¾è§‚ä¸“ä¸š
6. **å›½é™…åŒ–**: ç•Œé¢æ”¯æŒä¸­æ–‡

## ğŸ¨ é»‘é‡‘ä¸»é¢˜ç‰¹è‰²

- **ä¸“ä¸šå¤–è§‚**: æ·±è‰²èƒŒæ™¯é…åˆé‡‘è‰²é«˜äº®å…ƒç´ 
- **è§†è§‰èˆ’é€‚**: å‡å°‘é•¿æ—¶é—´ä½¿ç”¨çš„çœ¼éƒ¨ç–²åŠ³
- **ç°ä»£åŒ–è®¾è®¡**: å“åº”å¼å¸ƒå±€ï¼Œé€‚é…ä¸åŒå±å¹•
- **ç”¨æˆ·ä½“éªŒ**: æ¸…æ™°çš„çŠ¶æ€åé¦ˆå’Œæ“ä½œæç¤º

## ğŸ“‹ ä¾èµ–é¡¹

```
opencv-python>=4.5.0
opencv-contrib-python>=4.5.0
numpy>=1.21.0
Flask>=2.0.0
Flask-CORS>=3.0.10
```

## ğŸ› ï¸ å¼€å‘è¯´æ˜

### ä¿®æ”¹åç«¯ API

ç¼–è¾‘ [app.py](app.py) æˆ– [backend/](backend/) ä¸‹çš„æ¨¡å—æ–‡ä»¶ï¼Œé‡å¯ `python app.py`ã€‚

### ä¿®æ”¹å‰ç«¯ç•Œé¢

ç¼–è¾‘ [frontend/](frontend/) ä¸‹çš„æ–‡ä»¶ï¼š
- [index.html](frontend/index.html) - é¡µé¢ç»“æ„
- [static/css/style.css](frontend/static/css/style.css) - é»‘é‡‘ä¸»é¢˜æ ·å¼
- [static/js/main.js](frontend/static/js/main.js) - é€»è¾‘

åˆ·æ–°æµè§ˆå™¨å³å¯çœ‹åˆ°æ›´æ”¹ï¼ˆæ— éœ€é‡å¯åç«¯ï¼‰ã€‚

---

**çŠ¶æ€**: âœ… å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé»‘é‡‘ä¸»é¢˜è®¾è®¡ï¼ŒåŠŸèƒ½å®Œæ•´